<div class="row">
    <div class="col-md-12">
        <nb-card>
            <nb-card-body>
                <div class="row">
                    <div class="col-md-4">
                        <mat-form-field class="full-width">
                            <mat-label>{{selectedGrade.id? selectedGrade.description : 'Seleccione Curso'}}</mat-label>
                            <mat-select (selectionChange)="onSelectedGrade($event)">
                                <mat-option *ngFor="let grade of grades" [value]="grade.id">
                                    {{grade.description }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field class="full-width">
                            <mat-label>{{selectedSubject.id? selectedSubject.description : 'Seleccione Asignatura'}}
                            </mat-label>
                            <mat-select (selectionChange)="onSelectedSubject($event)" [disabled]="disableSubjectSelect">
                                <mat-option *ngFor="let subject of subjects" [value]="subject.id">
                                    {{subject.description }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div *ngIf="selectedSubject.id">
                    <button mat-raised-button (click)="editCalifications()"> EDITAR CALIFICACIONES </button>
                    <button mat-raised-button (click)="openDialog()">NUEVA CALIFICACIÃ“N</button>
                </div>
                <div *ngIf="!selectedSubject.id">
                    <button mat-raised-button (click)="editCalifications()"> EDITAR CALIFICACIONES </button>
                </div>
                <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                    <ng-container matColumnDef="alumnFullName">
                        <mat-header-cell *matHeaderCellDef sticky> Alumno </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="Alumno" matTooltipPosition="above">
                            {{element.alumnFullName}} </mat-cell>
                    </ng-container>
                    <div class="col-md-1">
                        <ng-container matColumnDef="N1">
                            <mat-header-cell *matHeaderCellDef (click)=redirectingCalifications(1,false)>
                                <span matBadge="4" matBadgeOverlap="false">N1</span>
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <mat-form-field class="type-number">
                                    <input matInput [(ngModel)]="element.N1"
                                        [disabled]="!editAlumnCalifications||element.N1Cummulative">
                                </mat-form-field>
                            </mat-cell>
                        </ng-container>
                    </div>
                    <ng-container matColumnDef="N2">
                        <mat-header-cell *matHeaderCellDef> N2 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N2" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N2" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N3">
                        <mat-header-cell *matHeaderCellDef> N3 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N3" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N3" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N4">
                        <mat-header-cell *matHeaderCellDef> N4 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N4" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N4" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N5">
                        <mat-header-cell *matHeaderCellDef> N5 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N5" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N5" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N6">
                        <mat-header-cell *matHeaderCellDef> N6 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N6" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N6" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N7">
                        <mat-header-cell *matHeaderCellDef> N7 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N7" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N7" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N8">
                        <mat-header-cell *matHeaderCellDef> N8 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N8" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N8" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N9">
                        <mat-header-cell *matHeaderCellDef> N9 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N9" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N9" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N10">
                        <mat-header-cell *matHeaderCellDef> N10 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N10" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N10" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N11">
                        <mat-header-cell *matHeaderCellDef> N11 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N11" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N11" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N12">
                        <mat-header-cell *matHeaderCellDef> N12 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N12" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N12" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N13">
                        <mat-header-cell *matHeaderCellDef> N13 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N13" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N13" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N14">
                        <mat-header-cell *matHeaderCellDef> N14 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N14" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N14" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="N15">
                        <mat-header-cell *matHeaderCellDef> N15 </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="N15" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.N15" [disabled]="!editAlumnCalifications">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="avg">
                        <mat-header-cell *matHeaderCellDef> Promedio </mat-header-cell>
                        <mat-cell *matCellDef="let element" matTooltip="Promedio" matTooltipPosition="above">
                            <mat-form-field class="type-number">
                                <input matInput [(ngModel)]="element.avg" disabled>
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                    <!-- <ng-container [matColumnDef]="column" *ngFor="let column of displayedColumns">
            <th mat-header-cell *matHeaderCellDef> {{column}} </th>
            <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
        </ng-container> -->

                    <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: columnsToDisplay;"></mat-row>
                </mat-table>
            </nb-card-body>
        </nb-card>
    </div>

    <div class="col-md-12">

        <mat-dialog-actions align="end">
            <div class="example-button-row">
                <button mat-raised-button class="multi-test">CANCELAR</button>
                <button mat-raised-button class="multi-test" color="primary"
                    (click)="updateCalifications()">GUARDAR</button>
            </div>
        </mat-dialog-actions>

    </div>
</div>